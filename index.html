<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>cTrip - Documentation</title>
</head>
<body>

<header>
    <h1>cTrip Crypto Payment Gateway Documentation</h1>
</header>

<nav>
    <ul>
        <li><a href="#overview">Overview</a></li>
        <li><a href="#setup">Setup</a></li>
        <li><a href="#configuration">Configuration</a></li>
        <li><a href="#usage">Usage</a></li>
        <li><a href="#endpoints">Endpoints</a></li>
        <li><a href="#additional-info">Requirements</a></li>
    </ul>
</nav>

<section id="overview">
    <h2>Overview</h2>
    <p>This is a simple Flask web application for processing payments using the Ethereum blockchain. <br>
      Users can generate unique payment addresses, monitor payment statuses, <br>and send payment information to an admin address.</p>
</section>

<section id="setup">
    <h2>Setup</h2>
    <pre><code>git clone https://may-project.com/ctrip</code></pre>
    <pre><code>cd ctrip</code></pre>
    <pre><code>pip install -r requirements.txt</code></pre>
    <p>Active Virtual Environment And Start Flask Server however You want.</p>
</section>

<section id="configuration">
    <h2>Configuration</h2>
    <p>Open <code>.env</code> Change Veriables What You Want And Save</p>
    <pre><code>ADMIN_ADDRESS=0x8f13688c9B53E93dE5A1D0c86b9816e7cc578017<br>
      W3_PROVIDER=https://data-seed-prebsc-1-s3.binance.org:8545/<br>
      SECRET_KEY=your_secret_key<br>
      gasLimit=200000<br>
      gasPrice=5
      </code></pre>
      <p>I Used BNB Testnet. Adjust gas prices, gas limits, and other parameters based on your Blockchain network and requirements.</p>
</section>

<section id="usage">
  <h2>Usage:</h2>
          <h3>Generate Payment Address:</h3>
          <p>
              Use the <code>/generate_payment_address</code> endpoint to generate a new payment address.
          </p>
          <p>
              Make a POST request with a JSON payload containing the desired payment amount.
          </p>
          <p>
              Example using <code>curl</code>:
              <pre>curl -X POST -H "X-Api-Key: YOUR_API_KEY" -H "Content-Type: application/json" -d '{"amount": 100}' http://localhost:8080/generate_payment_address</pre>
          </p>
          <p>
              The response will contain the new payment address and its validity period.
          </p>
          <h3>Check Payment Status:</h3>
          <p>
              Use the <code>/check_payment/{payment_address}</code> endpoint to check the status of a payment.
          </p>
          <p>
            Replace <code>{payment_address}</code> with the actual Ethereum payment address.
          </p>
          <p>
              Example using <code>curl</code>:
              <pre>curl http://localhost:8080/check_payment/YOUR_PAYMENT_ADDRESS</pre>
          </p>
          <p>
            The response will indicate the payment status and, if received, the current balance.
          </p>
          <h3>Send Payment Information to Admin:</h3>
<p>The application automatically sends payment information to the admin address when a valid payment is received.
Adjust the admin address (ADMIN_ADDRESS) and gas parameters as needed.</p>
      <!-- Repeat similar structures for other points -->

</section>

<section id="endpoints">
    <h2>Endpoints</h2>
    <h4>1. Generate Payment Address</h4> 
      <p>URL: <code>/generate_payment_address</code><br><br>
      Methods: POST<br><br>
      Description: Generates a unique Ethereum payment address for a specified payment amount. Requires a valid API key in the headers.</p>
      Check Payment:

<h4>Check Payment:</h4>
<p>URL: <code>/check_payment/{payment_address}</code><br><br>
Methods: GET<br><br>
Description: Checks if a payment has been received for the given payment address<br><br></p>
</section>

<section id="additional-info">
    <h2>Requirements:</h2>

    <p><code>1. Python 3.x<br><br>2. Flask<br><br>3. Web3<br><br>4. APScheduler<br><br>5. Blockchain RPC</code></p>
</section>

<footer>
  <hr>
  <p>
      &copy; 2024 Payment Processing App. All rights reserved.
  </p>
  <p>
      Author: Rakib Hossain
  </p>
  <p>
      Contact us: <a href="mailto:rakib4ggp@gmail.com">rakib4ggp@gmail.com</a>
  </p>
</footer>
</body>
</html>
